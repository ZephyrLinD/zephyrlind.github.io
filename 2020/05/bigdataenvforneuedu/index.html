<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>大数据企业课 —— 完全分布式开发环境配置（一） | 梦黎的小窝</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noodp" />
<meta name="Description" content="一个程序员的自留地">
<link rel="prev" href="https://blog.z36.moe/2020/03/springboot5/" />
<link rel="next" href="https://blog.z36.moe/2020/05/bigdataenvforneuedu2/" />
<link rel="canonical" href="https://blog.z36.moe/2020/05/bigdataenvforneuedu/" />
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="大数据企业课 —— 完全分布式开发环境配置（一）"/>
<meta name="twitter:description" content="为了企业课而做的大数据开发文档，此为环境篇，尽可能的全面。最后会尽全力写总结。"/>
<script type="application/ld+json">
    {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "大数据企业课 —— 完全分布式开发环境配置（一）",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https:\/\/blog.z36.moe\/2020\/05\/bigdataenvforneuedu\/"
    },
    
        "image": {
            "@type": "ImageObject",
            "url": "https:\/\/blog.z36.moe\/cover.png",
            "width":  800 ,
            "height":  600 
        },
    
    "genre": "posts",
    
        "keywords": "大数据企业课笔记",
    
    "wordcount":  2303 ,
    "url": "https:\/\/blog.z36.moe\/2020\/05\/bigdataenvforneuedu\/",
    
        "datePublished": "2020-05-27T17:10:02\u002b08:00",
    
    
        "dateModified": "2020-05-27T17:10:02\u002b08:00",
    
    
        "license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.",
    
    
        "publisher": {
            "@type": "Organization",
            "name": "Zephyr",
            "logo": {
            "@type": "ImageObject",
            "url": "https:\/\/blog.z36.moe\/logo.png",
            "width":  127 ,
            "height":  40 
            }
        },
    
    
    "description": ""
    }
    </script>
<link rel="stylesheet" href="/css/style.min.css">
<link rel="stylesheet" href="/css/lib/fontawesome-free/all.min.min.css">

<link rel="stylesheet" href="/css/lib/animate/animate.min.min.css">

    </head>
    <body>
        <script>
            window.isDark = (window.localStorage && window.localStorage.getItem('theme')) === 'dark';
            window.isDark && document.body.classList.add('dark-theme');
        </script>
        <div class="wrapper">
            <nav class="navbar">
    <div class="navbar-container">
        <div class="navbar-header animated bounceIn">
            <a href="https://blog.z36.moe/">梦黎的小窝</a>
        </div>
        <div class="navbar-menu">
            
            
                <a class="menu-item" href="https://blog.z36.moe/posts" title="">文章</a>
            
                <a class="menu-item" href="https://blog.z36.moe/tags" title="">标签</a>
            
                <a class="menu-item" href="https://blog.z36.moe/categories" title="">分类</a>
            
                <a class="menu-item" href="https://blog.z36.moe/about" title="">关于我</a>
            
            <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a>
        </div>
    </div>
</nav>
<nav class="navbar-mobile">
     <div class="navbar-container">
        <div class="navbar-header">
            <div class="navbar-header-title animated bounceIn">
                <a href="https://blog.z36.moe/">梦黎的小窝</a>
            </div>
            <div class="menu-toggle" id="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="navbar-menu" id="mobile-menu">
            
            
                <a class="menu-item" href="https://blog.z36.moe/posts" title="">文章</a>
            
                <a class="menu-item" href="https://blog.z36.moe/tags" title="">标签</a>
            
                <a class="menu-item" href="https://blog.z36.moe/categories" title="">分类</a>
            
                <a class="menu-item" href="https://blog.z36.moe/about" title="">关于我</a>
            
            <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a>
        </div>
    </div>
</nav><main class="main">
                <div class="container">
                    
    
    
    

    <article class="post-warp">
        <h1 class="post-title animated flipInX">大数据企业课 —— 完全分布式开发环境配置（一）</h1>

        <div class="post-meta">
            <div class="post-meta-main">
                <a class="author" href="https://blog.z36.moe/" rel="author"><i class="fas fa-user-circle fa-fw"></i>Zephyr&nbsp;</a>
                <span class="post-category">
                        收录于
                        <i class="far fa-folder fa-fw"></i><a href="https://blog.z36.moe/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a>
                            <i class="far fa-folder fa-fw"></i><a href="https://blog.z36.moe/categories/hadoop/">hadoop</a>
                            <i class="far fa-folder fa-fw"></i><a href="https://blog.z36.moe/categories/centos/">CentOS</a>
                            
                    </span>
            </div>
            <div class="post-meta-other">
                <i class="far fa-calendar-alt fa-fw"></i><time datetime=2020-05-27>2020-05-27</time>&nbsp;
                <i class="fas fa-pencil-alt fa-fw"></i>约 2303 字&nbsp;
                <i class="far fa-clock fa-fw"></i>预计阅读 5 分钟&nbsp;</div>
        </div>

        

        

        <div class="post-content">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <a class="post-dummy-target" id="前言"></a><h2>前言</h2>
<p>一直没更博客感觉很愧疚，主要是图床的备案崩了，弄了快两个月，备个案真麻烦。</p>
<p>正好就这企业课需要做大数据的分布式搭配文档，写一篇针对企业的大数据环境完全分布式的搭建的文档</p>
<a class="post-dummy-target" id="nat-设置"></a><h2>NAT 设置</h2>
<p>不多说话，直接上图：</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/1_vmnetSettings1.png" alt="vmnetSettings1"></p>
<p>然后打开 NAT 选项 记住网关：</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/2_vmnetSettings2.png" alt="vmnetSettings2"></p>
<a class="post-dummy-target" id="虚拟机操作系统的安装"></a><h2>虚拟机操作系统的安装</h2>
<p>这一步我将我配置虚拟机的过程截图下来，可能与老师讲的内容不太一样，但是最终结果是一样的。这里面有我个人习惯的问题。</p>
<p>我习惯先弄一个不插光盘镜像的虚拟机，然后再开开，避免VMWare自动配置一些东西</p>
<p>然后插入光盘进入虚拟机</p>
<a class="post-dummy-target" id="网卡名称设置"></a><h3>网卡名称设置</h3>
<p>由于 CentOS7 之后默认网卡名是网卡的插槽名，不知道为啥 VMWare 的网卡插槽是 33，所以默认网卡名为 <code>ens33</code> 。按理说无所谓，可是我是个强迫症，不从 1 开始就很难受。</p>
<p>所以在的在开机启动页面按下 <code>tab</code> 开始自己配置网卡名，按下 <code>tab</code> 之后不用管别的二话不说直接输入一下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">net.ifnames<span class="o">=</span><span class="m">0</span> <span class="nv">biosdevname</span><span class="o">=</span><span class="m">0</span>
</code></pre></td></tr></table>
</div>
</div><p>效果如下图：</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/3_netcardname.png" alt="网卡名称"></p>
<a class="post-dummy-target" id="网络设置"></a><h3>网络设置</h3>
<p>敲一下回车继续安装，稍等片刻，选择英语，再点击下一步，下拉，我们设置网络。</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/4_configs.png" alt="网络设置页面"></p>
<p>点击 NetWork Settings</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/5_hostName.png" alt="NetWork Settings"></p>
<p>左下角的 hostname 可以更改，比如我改成了 vm00。之后点击 Configure，按照下图所示填写相关信息</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/6_netSettings.png" alt="netSetting"></p>
<p>填写完毕后点击 Done，然后点击开上图的  OFF 变绿即可。</p>
<a class="post-dummy-target" id="硬盘设置"></a><h3>硬盘设置</h3>
<p>之后点击硬盘设置（INSTALLATION DESTINATION）</p>
<p>首先点击第一个箭头所指的 <code>I will configure...</code>，然后点击 Done</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/7_diskSettings1.png" alt="diskSettings1"></p>
<p>然后点击下拉菜单，选择 <code>Standerd Partition</code>，点击加号</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/8_diskSettings2.png" alt="partition"></p>
<p>之后按照图示给硬盘分区，我是这么分的，仅供参考，但是如果不懂那就这么分就行，绝对没问题的</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/9_diskSettings3.png" alt="mnt"></p>
<p>之后点击 Accept Change</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/10_diskSettings4.png" alt="Accept Change"></p>
<a class="post-dummy-target" id="其他内容--系统软件安装"></a><h3>其他内容 &amp; 系统软件安装</h3>
<p>之后点击 Security Policy 和 Kdump，都关掉</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/11_diskSettings5.png" alt="closesth"></p>
<p>之后安装系统软件，选择 Minimal install 的 1、2、3、6 项安装即可</p>
<p><img src="https://img.zephyrl.co/images/2020/05/27/12_software.png" alt="software"></p>
<p>之后就一切结束啦，我们点击安装系统，等待系统安装后重启即可</p>
<a class="post-dummy-target" id="xshell连接ssh"></a><h3>XShell连接SSH</h3>
<p>在这之前我们需要修改一下本机的网络设置，我们在桌面右键网络，打开网络设置</p>
<p>!localnetwork](<a href="https://img.zephyrl.co/images/2020/06/02/13_localnetwork.png">https://img.zephyrl.co/images/2020/06/02/13_localnetwork.png</a>)</p>
<p>之后修改一下 <code>vmnet8</code> 的 ip 地址</p>
<p><img src="https://img.zephyrl.co/images/2020/06/02/14_localnetwork2.png" alt="localnetwork2"></p>
<p>首先，互相 <code>ping</code> 一下看看通不通</p>
<p>电脑 ping 虚拟机：</p>
<p><img src="https://img.zephyrl.co/images/2020/06/02/15_pc2vmping.png" alt="电脑ping虚拟机"></p>
<p>虚拟机在 ping 下电脑</p>
<p><img src="https://img.zephyrl.co/images/2020/06/02/16.vm2pcping.png" alt="虚拟机ping电脑"></p>
<p>在之后就可以链接 xshell 啦</p>
<p><img src="https://img.zephyrl.co/images/2020/06/02/17_xshell.png" alt="xshell"></p>
<a class="post-dummy-target" id="软件的安装"></a><h2>软件的安装</h2>
<a class="post-dummy-target" id="jdk-安装"></a><h3>JDK 安装</h3>
<p>在<a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">这个链接</a>下载 <code>Linux x64 Compressed Archive</code></p>
<p>粘贴到 <code>/usr/local</code> 解压压缩包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">tar zxvf jdk-8u241-linux-x64.tar.gz
rm -rf jdk-8u241-linux-x64.tar.gz
<span class="nb">cd</span> jdk1.8.0_241
<span class="nb">pwd</span>
</code></pre></td></tr></table>
</div>
</div><p>获取到当前路径后，复制路径链接，配置环境变量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">vim /etc/profile
</code></pre></td></tr></table>
</div>
</div><p>在末尾添加如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># JDK 设置</span>
<span class="nb">export</span> <span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/local/jdk1.8.0_241
<span class="nb">export</span> <span class="nv">JRE_HOME</span><span class="o">=</span><span class="nv">$JAVA_HOME</span>/jre
<span class="nb">export</span> <span class="nv">CLASSPATH</span><span class="o">=</span><span class="nv">$CLASSPATH</span>:<span class="nv">$JAVA_HOME</span>/lib:<span class="nv">$JRE_HOME</span>/lib
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$JAVA_HOME</span>/bin:<span class="nv">$JRE_HOME</span>/bin
</code></pre></td></tr></table>
</div>
</div><p>之后将环境变量生效</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">source</span> /etc/profile
</code></pre></td></tr></table>
</div>
</div><p>然后运行一下 java 查看是否安装成功：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@vm00 ~<span class="o">]</span><span class="c1"># java -version</span>
java version <span class="s2">&#34;1.8.0_241&#34;</span>
Java<span class="o">(</span>TM<span class="o">)</span> SE Runtime Environment <span class="o">(</span>build 1.8.0_241-b07<span class="o">)</span>
Java HotSpot<span class="o">(</span>TM<span class="o">)</span> 64-Bit Server VM <span class="o">(</span>build 25.241-b07, mixed mode<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><a class="post-dummy-target" id="mysql-安装"></a><h3>MySQL 安装</h3>
<p>因为按照默认yum源安装MySQL非常慢，所以换一下yum源</p>
<p>首先备份原始yum源</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sudo cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak
</code></pre></td></tr></table>
</div>
</div><p>之后，直接使用如下内容覆盖掉 /etc/yum.repos.d/CentOS-Base.repo 文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># CentOS-Base.repo</span>
#
<span class="c1"># The mirror system uses the connecting IP address of the client and the</span>
<span class="c1"># update status of each mirror to pick mirrors that are updated to and</span>
<span class="c1"># geographically close to the client.  You should use this for CentOS updates</span>
<span class="c1"># unless you are manually picking other mirrors.</span>
#
<span class="c1"># If the mirrorlist= does not work for you, as a fall back you can try the</span>
<span class="c1"># remarked out baseurl= line instead.</span>
#
#


<span class="o">[</span>base<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>CentOS-<span class="nv">$releasever</span> - Base
<span class="nv">baseurl</span><span class="o">=</span>https://mirrors.tuna.tsinghua.edu.cn/centos/<span class="nv">$releasever</span>/os/<span class="nv">$basearch</span>/
<span class="c1">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os</span>
<span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgkey</span><span class="o">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-7

<span class="c1">#released updates</span>
<span class="o">[</span>updates<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>CentOS-<span class="nv">$releasever</span> - Updates
<span class="nv">baseurl</span><span class="o">=</span>https://mirrors.tuna.tsinghua.edu.cn/centos/<span class="nv">$releasever</span>/updates/<span class="nv">$basearch</span>/
<span class="c1">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates</span>
<span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgkey</span><span class="o">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-7



<span class="c1">#additional packages that may be useful</span>
<span class="o">[</span>extras<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>CentOS-<span class="nv">$releasever</span> - Extras
<span class="nv">baseurl</span><span class="o">=</span>https://mirrors.tuna.tsinghua.edu.cn/centos/<span class="nv">$releasever</span>/extras/<span class="nv">$basearch</span>/
<span class="c1">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras</span>
<span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgkey</span><span class="o">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-7



<span class="c1">#additional packages that extend functionality of existing packages</span>
<span class="o">[</span>centosplus<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>CentOS-<span class="nv">$releasever</span> - Plus
<span class="nv">baseurl</span><span class="o">=</span>https://mirrors.tuna.tsinghua.edu.cn/centos/<span class="nv">$releasever</span>/centosplus/<span class="nv">$basearch</span>/
<span class="c1">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=centosplus</span>
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="nv">enabled</span><span class="o">=</span><span class="m">0</span>
<span class="nv">gpgkey</span><span class="o">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-7
</code></pre></td></tr></table>
</div>
</div><p>最后，更新软件包缓存</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sudo yum makecache
</code></pre></td></tr></table>
</div>
</div><p>在<a href="https://dev.mysql.com/downloads/repo/yum/">这个链接</a>找到 <code>Red Hat Enterprise Linux 7 / Oracle Linux 7 (Architecture Independent), RPM Package</code> 并下载，个人习惯直接在虚拟机内wget</p>
<p>按照以下步骤安装：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
yum install mysql80-community-release-el7-3.noarch.rpm
yum install mysql-community-server
</code></pre></td></tr></table>
</div>
</div><p>经过漫长的等待，安装完了 MySQL8，我们首先启动 <code>mysqld</code> 服务来获取他的默认密码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">systemctl start mysqld
</code></pre></td></tr></table>
</div>
</div><p>之后，从 log 中找到临时密码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">grep <span class="s1">&#39;temporary password&#39;</span> /var/log/mysqld.log
</code></pre></td></tr></table>
</div>
</div><p>然后就可以用这个密码登录 MySQL 之后修改密码，首先降低密码复杂等级和最低密码长度：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">mysql&gt; <span class="nb">set</span> global validate_password.policy<span class="o">=</span>0<span class="p">;</span>
mysql&gt; <span class="nb">set</span> global validate_password.length<span class="o">=</span>6<span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>然后，修改密码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">mysql&gt; ALTER USER <span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span> IDENTIFIED BY <span class="s1">&#39;123456&#39;</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><a class="post-dummy-target" id="安装-hadoop"></a><h3>安装 Hadoop</h3>
<p>首先找到 <a href="https://hadoop.apache.org/releases.html">Hadoop 下载页面</a>，复制合适的链接，然后下载到虚拟机中的 <code>/usr/local/</code> 下</p>
<p>我选择的是 <a href="https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-2.9.2/hadoop-2.9.2.tar.gz">tuna 的镜像下载地点</a></p>
<p>之后，解压文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">tar zxvf hadoop-2.9.2.tar.gz
</code></pre></td></tr></table>
</div>
</div><p>之后记住现在的安装路径，设置一下环境变量，在 <code>/etc/profile</code> 里面添加如下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># Hadoop</span>
<span class="nb">export</span> <span class="nv">HADOOP_HOME</span><span class="o">=</span>/usr/local/hadoop-2.9.2
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HADOOP_HOME</span>/bin:<span class="nv">$HADOOP_HOME</span>/sbin
</code></pre></td></tr></table>
</div>
</div><p>最后，保存设置生效并验证</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@vm00 hadoop-2.9.2<span class="o">]</span>$ <span class="nb">source</span> /etc/profile
<span class="o">[</span>root@vm00 local<span class="o">]</span>$ hadoop version
Hadoop 2.9.2
Subversion https://git-wip-us.apache.org/repos/asf/hadoop.git -r 826afbeae31ca687bc2f8471dc841b66ed2c6704
Compiled by ajisaka on 2018-11-13T12:42Z
Compiled with protoc 2.5.0
From <span class="nb">source</span> with checksum 3a9939967262218aa556c684d107985
This <span class="nb">command</span> was run using /usr/local/hadoop-2.9.2/share/hadoop/common/hadoop-common-2.9.2.jar
<span class="o">[</span>root@vm00 local<span class="o">]</span>$ hdfs dfs -ls /home
Found <span class="m">1</span> items
drwx------   - zephyr zephyr         <span class="m">62</span> 2018-04-11 12:59 /home/zephyr
</code></pre></td></tr></table>
</div>
</div><a class="post-dummy-target" id="安装-hive"></a><h3>安装 Hive</h3>
<p>首先找到 <a href="http://www.apache.org/dyn/closer.cgi/hive/">Hadoop 下载页面</a>，复制合适的链接，然后下载到虚拟机中的 <code>/usr/local/</code> 下</p>
<p>我选择的是 <a href="https://mirrors.tuna.tsinghua.edu.cn/apache/hive/hive-2.3.7/apache-hive-2.3.7-bin.tar.gz">tuna 的镜像下载地点</a></p>
<p>之后，解压文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">tar zxvf apache-hive-2.3.7-bin.tar.gz
</code></pre></td></tr></table>
</div>
</div><p>然后记住现在的安装路径，设置一下环境变量，在 <code>/etc/profile</code> 里面添加如下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># Hive</span>
<span class="nb">export</span> <span class="nv">HIVE_HOME</span><span class="o">=</span>/usr/local/apache-hive-2.3.7-bin
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HIVE_HOME</span>/bin
</code></pre></td></tr></table>
</div>
</div><p>最后，保存设置生效并验证</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@vm00 hadoop-2.9.2<span class="o">]</span>$ <span class="nb">source</span> /etc/profile
<span class="o">[</span>root@vm00 hadoop-2.9.2<span class="o">]</span>$ hive --version
Hive 2.3.7
Git git://Alans-MacBook-Air.local/Users/gates/git/hive -r cb213d88304034393d68cc31a95be24f5aac62b6
Compiled by gates on Tue Apr <span class="m">7</span> 12:42:45 PDT <span class="m">2020</span>
From <span class="nb">source</span> with checksum 9da14e8ac4737126b00a1a47f662657e
</code></pre></td></tr></table>
</div>
</div><a class="post-dummy-target" id="配置-hive"></a><h3>配置 Hive</h3>
<p>在 MySQL 中创建数据库 hive。由于 hive 有默认的数据库，但是我们需要自己的数据库，所以需要修改一下配置</p>
<p>1、配置文件的修改</p>
<p>所有配置文件均在 Hive 安装目录下的 <code>conf</code> 文件夹中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@vm00 conf<span class="o">]</span>$ cp hive-default.xml.template hive-site.xml
<span class="o">[</span>root@vm00 conf<span class="o">]</span>$ vim hive-set.xml
&lt;!--用户名--&gt;
&lt;property&gt;
        &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;
        &lt;value&gt;root&lt;/value&gt;
    &lt;/property&gt;
&lt;!--密码--&gt;
    &lt;property&gt;
        &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;
        &lt;value&gt;123456&lt;/value&gt;
    &lt;/property&gt;
&lt;!--mysql--&gt;
   &lt;property&gt;
        &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;
        &lt;value&gt;jdbc:mysql://192.168.1.100:3306/hive&lt;/value&gt;
    &lt;/property&gt;
&lt;!--mysql驱动程序--&gt;
    &lt;property&gt;
        &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;
        &lt;value&gt;com.mysql.cj.jdbc.Driver&lt;/value&gt;
    &lt;/property&gt;
</code></pre></td></tr></table>
</div>
</div><p>2、替换临时目录</p>
<p>所以将 <code>hive-set.xml</code> 中的 <code>${system:java.io.tmpdir}</code> 换成 Hive 目录下的 <code>tmp</code> 文件夹即可</p>
<p>3、配置 hive-env.sh 和 hive-config.sh</p>
<p>配置的内容是一样的，从 <code>hive-env.sh</code> 开始</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">mv hive-env.sh.template hive-env.sh
</code></pre></td></tr></table>
</div>
</div><p>之后是 <code>hive-config.sh</code>，他在 Hive 安装目录的 <code>bin</code> 文件夹下，加入以下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">export</span> <span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/local/jdk1.8.0_241
<span class="nb">export</span> <span class="nv">HIVE_HOME</span><span class="o">=</span>/usr/local/apache-hive-2.3.7-bin
<span class="nb">export</span> <span class="nv">HADOOP_HOME</span><span class="o">=</span>/usr/local/hadoop-2.9.2
</code></pre></td></tr></table>
</div>
</div><p>3、复制驱动</p>
<p>把从<a href="https://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-8.0.20.tar.gz">这里</a>下载的驱动包 <code>mysql-connector-java-8.0.20.jar</code> 解压粘贴到 Hive 安装目录下的 <code>lib</code> 文件夹即可</p>
<p>4、在 MySQL 中 Hive 的 Schema &ndash; 作用是在 MySQL 的 Hive 数据库下建立相关的表格</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@vm00 local<span class="o">]</span>$ schematool -dbType mysql -initSchema
</code></pre></td></tr></table>
</div>
</div><p>5、执行hive</p>
<a class="post-dummy-target" id="sqoop-安装"></a><h2>Sqoop 安装</h2>
<p>首先找到 <a href="http://www.apache.org/dyn/closer.lua/sqoop/">Hadoop 下载页面</a>，复制合适的链接，然后下载到虚拟机中的 <code>/usr/local/</code> 下</p>
<p>之后，解压文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">tar zxvf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz
mv sqoop-1.4.7.bin__hadoop-2.6.0 sqoop-1.4.7
</code></pre></td></tr></table>
</div>
</div><p>之后记住现在的安装路径，设置一下环境变量，在 <code>/etc/profile</code> 里面添加如下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># Hadoop</span>
<span class="nb">export</span> <span class="nv">SQOOP_HOME</span><span class="o">=</span>/usr/local/sqoop-1.4.7
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$SQOOP_HOME</span>/bin
</code></pre></td></tr></table>
</div>
</div><p>之后对 Sqoop 进行简单配置</p>
<p>首先修改配置文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">source</span> /etc/profile
<span class="nb">cd</span> <span class="nv">$SQOOP_HOME</span>/conf
mv sqoop-env-template.sh sqoop-env.sh
</code></pre></td></tr></table>
</div>
</div><p>打开sqoop-env.sh并编辑下面几行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">export</span> <span class="nv">HADOOP_COMMON_HOME</span><span class="o">=</span>/usr/local/hadoop-2.9.2
<span class="nb">export</span>  <span class="nv">HADOOP_MAPRED_HOME</span><span class="o">=</span>/usr/local/hadoop-2.9.2
<span class="nb">export</span> <span class="nv">HIVE_HOME</span><span class="o">=</span>/usr/local/apache-hive-2.3.7-bin
</code></pre></td></tr></table>
</div>
</div><p>加入 MySql 的 JDBC 驱动包。首先冲<a href="https://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-8.0.20.tar.gz">这里</a>下资 MySQL 驱动包 然后提取里面的jar文件放在 $SQOOP_HOME/lib/ 中，即可大功告成。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ sqoop-version
20/06/16 16:55:23 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7
Sqoop 1.4.7
git commit id 2328971411f57f0cb683dfb79d19d4d19d185dd8
Compiled by maugli on Thu Dec <span class="m">21</span> 15:59:58 STD <span class="m">2017</span>
</code></pre></td></tr></table>
</div>
</div><p>到这里，整个Sqoop安装工作完成。</p>

        </div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>本文于 2020-05-27 更新</span>
            </div>
            <div class="post-info-license">
                
            </div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md">
                
                    
                        <span><a class="link-to-markdown" href="https://blog.z36.moe/2020/05/bigdataenvforneuedu/index.md" target="_blank">阅读原始文档</a></span>
                    
                
            </div>
            <div class="post-info-share">
                
                    <span>
    
        <a href="//twitter.com/share?url=https%3a%2f%2fblog.z36.moe%2f2020%2f05%2fbigdataenvforneuedu%2f&amp;text=%e5%a4%a7%e6%95%b0%e6%8d%ae%e4%bc%81%e4%b8%9a%e8%af%be%20%e2%80%94%e2%80%94%20%e5%ae%8c%e5%85%a8%e5%88%86%e5%b8%83%e5%bc%8f%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae%ef%bc%88%e4%b8%80%ef%bc%89&amp;via=" target="_blank" title="Share on Twitter">
            <i class="fab fa-twitter fa-fw"></i>
        </a>
    
    
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.z36.moe%2f2020%2f05%2fbigdataenvforneuedu%2f" target="_blank" title="Share on Facebook">
            <i class="fab fa-facebook-square fa-fw"></i>
        </a>
    
    
        <a href="//reddit.com/submit?url=https%3a%2f%2fblog.z36.moe%2f2020%2f05%2fbigdataenvforneuedu%2f&amp;title=%e5%a4%a7%e6%95%b0%e6%8d%ae%e4%bc%81%e4%b8%9a%e8%af%be%20%e2%80%94%e2%80%94%20%e5%ae%8c%e5%85%a8%e5%88%86%e5%b8%83%e5%bc%8f%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae%ef%bc%88%e4%b8%80%ef%bc%89" target="_blank" title="Share on Reddit">
            <i class="fab fa-reddit fa-fw"></i>
        </a>
    
    
    
    
    
    
    
    
</span>
                
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section>
            
                
                    <span class="tag">
                        <a href="https://blog.z36.moe/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%BC%81%E4%B8%9A%E8%AF%BE%E7%AC%94%E8%AE%B0/"><i class="fas fa-tag fa-fw"></i>大数据企业课笔记</a>
                    </span>
                
            
        </section>
        <section>
            <span><a href="javascript:window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="https://blog.z36.moe/">主页</a></span>
        </section>
    </div>

    <div class="post-nav">
        
            <a href="https://blog.z36.moe/2020/03/springboot5/" class="prev" rel="prev" title="SpringBoot学习笔记（五）—— MVC自动配置原理"><i class="fas fa-angle-left fa-fw"></i>SpringBoot学习笔记（五）—— MVC自动配置原理</a>
        
        
            <a href="https://blog.z36.moe/2020/05/bigdataenvforneuedu2/" class="next" rel="next" title="大数据企业课 —— 完全分布式开发环境配置（二）">大数据企业课 —— 完全分布式开发环境配置（二）<i class="fas fa-angle-right fa-fw"></i></a>
        
    </div>
</div>

        <div class="post-comment">
            
            

            
        </div>
    </article></div>
            </main>
            <footer class="footer">
    <div class="copyright">
        <div class="copyright-line">
            由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a> 强力驱动&nbsp;|&nbsp;主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="external nofollow noopener noreffer">LoveIt<i class="far fa-heart fa-fw"></i></a>
        </div>
        <div class="copyright-line">
            <i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2017 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://blog.z36.moe/">Zephyr</a></span><span class="license">&nbsp;|&nbsp;<a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
    </div>
</footer>


    
    




    
    




    
    





    
    



    
    



    
    





    
    





    
    



    
    





    
    




    
    




    
    



    
    





    
    


<script src="/js/lib/jquery/jquery.slim.min.min.js"></script>
<script src="/js/lib/lazysizes/lazysizes.min.min.js"></script>
<script src="/js/lib/smooth-scroll/smooth-scroll.polyfills.min.min.js"></script><script>window.scroll = new SmoothScroll('[data-scroll]', {speed: 300, speedAsDuration: true});</script>


    
    

    

    

    

    






<script src="/js/blog.min.js"></script>


    
</div>
        <a href="#" class="dynamic-to-top" id="dynamic-to-top" data-scroll><span>&nbsp;</span></a>
    </body>
</html>